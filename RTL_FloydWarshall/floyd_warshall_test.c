#include "floyd_warshall.h"
#include <stdio.h>
#include <math.h>

int main() {


	/*
	 * Problemi nel calcolo delle distanze nel caso la somma tra due porti all'overflow del tipo di dato
	 * Per questo Ã¨ impossibile usare infinity e bisogna usare il max che permette il tipo di dato meno
	 * il massimo peso tra due vertici (workaround)
	 */

	TARGET_TYPE sw_A[N][N] = {
			{0, 1, 4294967283, 4294967283, 3, 4294967283, 4294967283, 4294967283, 4294967283, 7},
			{1, 0, 2, 4294967283, 4294967283, 4, 4294967283, 10, 4294967283, 4294967283},
			{4294967283, 2, 0, 5, 4294967283, 4294967283, 4294967283, 4294967283, 4294967283, 4294967283},
			{4294967283, 4294967283, 5, 0, 6, 4294967283, 4294967283, 4294967283, 11, 4294967283},
			{3, 4294967283, 4294967283, 6, 0, 4294967283, 4294967283, 4294967283, 7, 4294967283},
			{4294967283, 4, 4294967283, 4294967283, 4294967283, 0, 1, 4294967283, 4294967283, 4294967283},
			{4294967283, 4294967283, 4294967283, 4294967283, 4294967283, 1, 0, 4294967283, 4294967283, 4},
			{4294967283, 10, 4294967283, 4294967283, 4294967283, 4294967283, 4294967283, 0, 4294967283, 4294967283},
			{4294967283, 4294967283, 4294967283, 11, 7, 4294967283, 4294967283, 4294967283, 0, 4294967283},
			{7, 4294967283, 4294967283, 4294967283, 4294967283, 4294967283, 4, 4294967283, 4294967283, 0}
	};


	TARGET_TYPE hw_A[N][N] = {
			{0, 1, 4294967283, 4294967283, 3, 4294967283, 4294967283, 4294967283, 4294967283, 7},
			{1, 0, 2, 4294967283, 4294967283, 4, 4294967283, 10, 4294967283, 4294967283},
			{4294967283, 2, 0, 5, 4294967283, 4294967283, 4294967283, 4294967283, 4294967283, 4294967283},
			{4294967283, 4294967283, 5, 0, 6, 4294967283, 4294967283, 4294967283, 11, 4294967283},
			{3, 4294967283, 4294967283, 6, 0, 4294967283, 4294967283, 4294967283, 7, 4294967283},
			{4294967283, 4, 4294967283, 4294967283, 4294967283, 0, 1, 4294967283, 4294967283, 4294967283},
			{4294967283, 4294967283, 4294967283, 4294967283, 4294967283, 1, 0, 4294967283, 4294967283, 4},
			{4294967283, 10, 4294967283, 4294967283, 4294967283, 4294967283, 4294967283, 0, 4294967283, 4294967283},
			{4294967283, 4294967283, 4294967283, 11, 7, 4294967283, 4294967283, 4294967283, 0, 4294967283},
			{7, 4294967283, 4294967283, 4294967283, 4294967283, 4294967283, 4, 4294967283, 4294967283, 0}
	};


	for(int i = 0; i < N; i++) {
		for(int j = 0; j < N; j++) {
			for(int k = 0; k < N; k++) {
				if((sw_A[j][i] + sw_A[i][k]) < sw_A[j][k]) {
					sw_A[j][k] = sw_A[j][i] + sw_A[i][k];
				}
			}
		}
	}

	floyd_warshall(hw_A);

	int err_cnt = 0;

	for(int a = 0; a < N; a++) {
		for(int b = 0; b < N; b++) {
			if(sw_A[a][b] != hw_A[a][b]) {
				err_cnt++;
			}
		}
	}
	return err_cnt;
}
